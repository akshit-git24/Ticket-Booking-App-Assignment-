{% extends 'layout.html' %}

{% block title %}Cancel Booking{% endblock %}

{% block style %}
.cancel-card { background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.booking-details { background: #f8f9fa; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="cancel-card p-4">
                <h3 class="mb-4 text-center">Cancel Booking</h3>
                
                <!-- Booking Details -->
                <div class="booking-details">
                    <h5>Booking Details</h5>
                    <p><strong>Booking ID:</strong> #{{ booking.booking_id }}</p>
                    <p><strong>Travel:</strong> {{ booking.travel_option.type|title }}</p>
                    <p><strong>Route:</strong> {{ booking.travel_option.source }} → {{ booking.travel_option.destination }}</p>
                    <p><strong>Date:</strong> {{ booking.travel_option.departure_date }} at {{ booking.travel_option.departure_time }}</p>
                    <p><strong>Seats:</strong> {{ booking.number_of_seats }}</p>
                    <p><strong>Total Amount:</strong> ₹{{ booking.total_price }}</p>
                </div>

                <div class="alert alert-warning">
                    <strong>Warning:</strong> Are you sure you want to cancel this booking? This action cannot be undone.
                </div>

                <form method="POST">
                    {% csrf_token %}
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-danger">Yes, Cancel Booking</button>
                        <a href="{% url 'my_bookings' %}" class="btn btn-secondary">No, Keep Booking</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}