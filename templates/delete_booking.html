{% extends 'layout.html' %}

{% block title %}Delete Booking{% endblock %}

{% block style %}
.delete-card { background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.booking-details { background: #f8f9fa; border-radius: 8px; padding: 20px; margin-bottom: 20px; }
.danger-zone { background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 8px; padding: 20px; }
{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="delete-card p-4">
                <h3 class="mb-4 text-center text-danger">Delete Booking</h3>
                
                
                <div class="booking-details">
                    <h5>Booking Details</h5>
                    <p><strong>Booking ID:</strong> #{{ booking.booking_id }}</p>
                    <p><strong>Travel:</strong> {{ booking.travel_option.type|title }}</p>
                    <p><strong>Route:</strong> {{ booking.travel_option.source }} → {{ booking.travel_option.destination }}</p>
                    <p><strong>Date:</strong> {{ booking.travel_option.departure_date }} at {{ booking.travel_option.departure_time }}</p>
                    <p><strong>Seats:</strong> {{ booking.number_of_seats }}</p>
                    <p><strong>Total Amount:</strong> ₹{{ booking.total_price }}</p>
                    <p><strong>Status:</strong> <span class="badge bg-danger">{{ booking.status|title }}</span></p>
                </div>

                <div class="danger-zone">
                    <h5 class="text-danger">⚠️ Permanent Deletion</h5>
                    <p class="mb-3">
                        <strong>Warning:</strong> This action will permanently delete this booking record from your account. 
                        This cannot be undone. Only cancelled bookings can be deleted.
                    </p>
                    <ul class="text-muted">
                        <li>The booking record will be completely removed</li>
                        <li>You will not be able to view this booking history</li>
                        <li>This action is irreversible</li>
                    </ul>
                </div>

                <form method="POST" class="mt-4">
                    {% csrf_token %}
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-danger">Yes, Delete Permanently</button>
                        <a href="{% url 'my_bookings' %}" class="btn btn-secondary">No, Keep Booking</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}